
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>biophysics_fitting package &#8212; In-Silico Framework (ISF) 0.0.1 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/graphviz.css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="compatibility module" href="compatibility.html" />
    <link rel="prev" title="barrel_cortex package" href="barrel_cortex.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="biophysics-fitting-package">
<h1>biophysics_fitting package<a class="headerlink" href="#biophysics-fitting-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-biophysics_fitting.L5tt_parameter_setup">
<span id="biophysics-fitting-l5tt-parameter-setup-module"></span><h2>biophysics_fitting.L5tt_parameter_setup module<a class="headerlink" href="#module-biophysics_fitting.L5tt_parameter_setup" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="biophysics_fitting.L5tt_parameter_setup.get_L5tt_template">
<code class="sig-prename descclassname">biophysics_fitting.L5tt_parameter_setup.</code><code class="sig-name descname">get_L5tt_template</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/L5tt_parameter_setup.html#get_L5tt_template"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.L5tt_parameter_setup.get_L5tt_template" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.L5tt_parameter_setup.hay_param_to_scp_neuron_param">
<code class="sig-prename descclassname">biophysics_fitting.L5tt_parameter_setup.</code><code class="sig-name descname">hay_param_to_scp_neuron_param</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">p</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/L5tt_parameter_setup.html#hay_param_to_scp_neuron_param"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.L5tt_parameter_setup.hay_param_to_scp_neuron_param" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.L5tt_parameter_setup.hay_params_to_scp_neuron_params">
<code class="sig-prename descclassname">biophysics_fitting.L5tt_parameter_setup.</code><code class="sig-name descname">hay_params_to_scp_neuron_params</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">params</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/L5tt_parameter_setup.html#hay_params_to_scp_neuron_params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.L5tt_parameter_setup.hay_params_to_scp_neuron_params" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.L5tt_parameter_setup.set_ephys">
<code class="sig-prename descclassname">biophysics_fitting.L5tt_parameter_setup.</code><code class="sig-name descname">set_ephys</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cell_param</span></em>, <em class="sig-param"><span class="n">params</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/L5tt_parameter_setup.html#set_ephys"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.L5tt_parameter_setup.set_ephys" title="Permalink to this definition">¶</a></dt>
<dd><p>updates cell_param file. parameter names reflect the hay naming convention.</p>
</dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.L5tt_parameter_setup.set_hot_zone">
<code class="sig-prename descclassname">biophysics_fitting.L5tt_parameter_setup.</code><code class="sig-name descname">set_hot_zone</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cell_param</span></em>, <em class="sig-param"><span class="n">min_</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">max_</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">outsidescale_sections</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/L5tt_parameter_setup.html#set_hot_zone"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.L5tt_parameter_setup.set_hot_zone" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.L5tt_parameter_setup.set_many_param">
<code class="sig-prename descclassname">biophysics_fitting.L5tt_parameter_setup.</code><code class="sig-name descname">set_many_param</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cell_param</span></em>, <em class="sig-param"><span class="n">params</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/L5tt_parameter_setup.html#set_many_param"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.L5tt_parameter_setup.set_many_param" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.L5tt_parameter_setup.set_morphology">
<code class="sig-prename descclassname">biophysics_fitting.L5tt_parameter_setup.</code><code class="sig-name descname">set_morphology</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cell_param</span></em>, <em class="sig-param"><span class="n">filename</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/L5tt_parameter_setup.html#set_morphology"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.L5tt_parameter_setup.set_morphology" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.L5tt_parameter_setup.set_param">
<code class="sig-prename descclassname">biophysics_fitting.L5tt_parameter_setup.</code><code class="sig-name descname">set_param</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cell_param</span></em>, <em class="sig-param"><span class="n">params</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/L5tt_parameter_setup.html#set_param"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.L5tt_parameter_setup.set_param" title="Permalink to this definition">¶</a></dt>
<dd><p>updates cell_param file. parameter names reflect the hierarchy in the cell_param file itself.</p>
</dd></dl>

</div>
<div class="section" id="module-biophysics_fitting.combiner">
<span id="biophysics-fitting-combiner-module"></span><h2>biophysics_fitting.combiner module<a class="headerlink" href="#module-biophysics_fitting.combiner" title="Permalink to this headline">¶</a></h2>
<p>Created on Nov 08, 2018</p>
<p>&#64;author: abast</p>
<dl class="py class">
<dt id="biophysics_fitting.combiner.Combiner">
<em class="property">class </em><code class="sig-prename descclassname">biophysics_fitting.combiner.</code><code class="sig-name descname">Combiner</code><a class="reference internal" href="_modules/biophysics_fitting/combiner.html#Combiner"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.combiner.Combiner" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This  class can be used to combine features (usually) computed by an Evaluator object.</p>
<p>For a Simulator object s and a Evaluator object e and a Combiner object c, the typical usecase is:
voltage_traces_dict = s.run(params)
features = e.evaluate(voltage_traces_dict)
combined_features = c.combine(features)</p>
<p>Internally, the Combiner iterates over all names of specified combinations. Each combination
is specified not only by a name of the combination, but also a list of names of the features,
that go into that combination. Each list of features is then combined by calling combinefun with that list.</p>
<p>Example: Assume, the evaluator returns a dictionary like:
features = {‘feature1’: 1, ‘feature2’: 2, ‘feature3’: 3, ‘feature4’: 4}
We want to combine feature1 and 2. We also want to combine features2, 3 and 4. Combining features should be done
by taking the maximum.</p>
<p>How can this be set up?
An example, how the Combiner object can be set up can be found in hay_complete_default_setup.
c = Combiner()
c.setup.append(‘combination1’, [‘feature1’, ‘feature2’])
c.setup.append(‘combination2’, [‘feature2’, ‘feature3’, ‘feature4’])
c.setup.combinefun = max</p>
<p>combined_features = c.combine(features)
combined_features
&gt; {‘combination1’: 2, ‘combination2’: 4}</p>
<dl class="py method">
<dt id="biophysics_fitting.combiner.Combiner.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/combiner.html#Combiner.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.combiner.Combiner.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>
</dd></dl>

<dl class="py method">
<dt id="biophysics_fitting.combiner.Combiner.combine">
<code class="sig-name descname">combine</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">features</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/combiner.html#Combiner.combine"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.combiner.Combiner.combine" title="Permalink to this definition">¶</a></dt>
<dd><p>Combines features that are computed by an Evaluator class.</p>
<p>Details, how to set up the Combiner are in the docstring of
the Combiner class.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="biophysics_fitting.combiner.Combiner_Setup">
<em class="property">class </em><code class="sig-prename descclassname">biophysics_fitting.combiner.</code><code class="sig-name descname">Combiner_Setup</code><a class="reference internal" href="_modules/biophysics_fitting/combiner.html#Combiner_Setup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.combiner.Combiner_Setup" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt id="biophysics_fitting.combiner.Combiner_Setup.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/combiner.html#Combiner_Setup.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.combiner.Combiner_Setup.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>
</dd></dl>

<dl class="py method">
<dt id="biophysics_fitting.combiner.Combiner_Setup.append">
<code class="sig-name descname">append</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em>, <em class="sig-param"><span class="n">combination</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/combiner.html#Combiner_Setup.append"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.combiner.Combiner_Setup.append" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-biophysics_fitting.ephys">
<span id="biophysics-fitting-ephys-module"></span><h2>biophysics_fitting.ephys module<a class="headerlink" href="#module-biophysics_fitting.ephys" title="Permalink to this headline">¶</a></h2>
<p>The content of this module is mostly a reimplementation of the Hay et.al. 2011 methods used for extracting features</p>
<dl class="py function">
<dt id="biophysics_fitting.ephys.AHP_depth_abs">
<code class="sig-prename descclassname">biophysics_fitting.ephys.</code><code class="sig-name descname">AHP_depth_abs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">t</span></em>, <em class="sig-param"><span class="n">v</span></em>, <em class="sig-param"><span class="n">thresh</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/ephys.html#AHP_depth_abs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.ephys.AHP_depth_abs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.ephys.AHP_depth_abs_check_2AP">
<code class="sig-prename descclassname">biophysics_fitting.ephys.</code><code class="sig-name descname">AHP_depth_abs_check_2AP</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">t</span></em>, <em class="sig-param"><span class="n">v</span></em>, <em class="sig-param"><span class="n">thresh</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/ephys.html#AHP_depth_abs_check_2AP"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.ephys.AHP_depth_abs_check_2AP" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.ephys.AP_height">
<code class="sig-prename descclassname">biophysics_fitting.ephys.</code><code class="sig-name descname">AP_height</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">t</span></em>, <em class="sig-param"><span class="n">v</span></em>, <em class="sig-param"><span class="n">thresh</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/ephys.html#AP_height"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.ephys.AP_height" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.ephys.AP_height_check_1AP">
<code class="sig-prename descclassname">biophysics_fitting.ephys.</code><code class="sig-name descname">AP_height_check_1AP</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">t</span></em>, <em class="sig-param"><span class="n">v</span></em>, <em class="sig-param"><span class="n">thresh</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/ephys.html#AP_height_check_1AP"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.ephys.AP_height_check_1AP" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.ephys.AP_width">
<code class="sig-prename descclassname">biophysics_fitting.ephys.</code><code class="sig-name descname">AP_width</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">t</span></em>, <em class="sig-param"><span class="n">v</span></em>, <em class="sig-param"><span class="n">thresh</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/ephys.html#AP_width"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.ephys.AP_width" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.ephys.AP_width_check_1AP">
<code class="sig-prename descclassname">biophysics_fitting.ephys.</code><code class="sig-name descname">AP_width_check_1AP</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">t</span></em>, <em class="sig-param"><span class="n">v</span></em>, <em class="sig-param"><span class="n">thresh</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#biophysics_fitting.ephys.AP_width_check_1AP" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.ephys.BAC_ISI">
<code class="sig-prename descclassname">biophysics_fitting.ephys.</code><code class="sig-name descname">BAC_ISI</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">t</span></em>, <em class="sig-param"><span class="n">v</span></em>, <em class="sig-param"><span class="n">thresh</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/ephys.html#BAC_ISI"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.ephys.BAC_ISI" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.ephys.BAC_ISI_check_2_or_3_APs">
<code class="sig-prename descclassname">biophysics_fitting.ephys.</code><code class="sig-name descname">BAC_ISI_check_2_or_3_APs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">t</span></em>, <em class="sig-param"><span class="n">v</span></em>, <em class="sig-param"><span class="n">thresh</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/ephys.html#BAC_ISI_check_2_or_3_APs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.ephys.BAC_ISI_check_2_or_3_APs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.ephys.BAC_ISI_check_repolarization">
<code class="sig-prename descclassname">biophysics_fitting.ephys.</code><code class="sig-name descname">BAC_ISI_check_repolarization</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">t</span></em>, <em class="sig-param"><span class="n">v</span></em>, <em class="sig-param"><span class="n">stim_end</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">repolarization</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/ephys.html#BAC_ISI_check_repolarization"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.ephys.BAC_ISI_check_repolarization" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.ephys.BAC_caSpike_height">
<code class="sig-prename descclassname">biophysics_fitting.ephys.</code><code class="sig-name descname">BAC_caSpike_height</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">t</span></em>, <em class="sig-param"><span class="n">v</span></em>, <em class="sig-param"><span class="n">v_dend</span></em>, <em class="sig-param"><span class="n">ca_thresh</span><span class="o">=</span><span class="default_value">- 55</span></em>, <em class="sig-param"><span class="n">tstim</span><span class="o">=</span><span class="default_value">295</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/ephys.html#BAC_caSpike_height"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.ephys.BAC_caSpike_height" title="Permalink to this definition">¶</a></dt>
<dd><p>returns heights of Ca spikes after tstim</p>
</dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.ephys.BAC_caSpike_height_check_1_Ca_AP">
<code class="sig-prename descclassname">biophysics_fitting.ephys.</code><code class="sig-name descname">BAC_caSpike_height_check_1_Ca_AP</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">t</span></em>, <em class="sig-param"><span class="n">v</span></em>, <em class="sig-param"><span class="n">v_dend</span></em>, <em class="sig-param"><span class="n">thresh</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/ephys.html#BAC_caSpike_height_check_1_Ca_AP"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.ephys.BAC_caSpike_height_check_1_Ca_AP" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.ephys.BAC_caSpike_height_check_Ca_spikes_after_Na_spike">
<code class="sig-prename descclassname">biophysics_fitting.ephys.</code><code class="sig-name descname">BAC_caSpike_height_check_Ca_spikes_after_Na_spike</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">t</span></em>, <em class="sig-param"><span class="n">v</span></em>, <em class="sig-param"><span class="n">v_dend</span></em>, <em class="sig-param"><span class="n">n</span><span class="o">=</span><span class="default_value">2</span></em>, <em class="sig-param"><span class="n">thresh</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/ephys.html#BAC_caSpike_height_check_Ca_spikes_after_Na_spike"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.ephys.BAC_caSpike_height_check_Ca_spikes_after_Na_spike" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.ephys.BAC_caSpike_height_check_gt2_Na_spikes">
<code class="sig-prename descclassname">biophysics_fitting.ephys.</code><code class="sig-name descname">BAC_caSpike_height_check_gt2_Na_spikes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">t</span></em>, <em class="sig-param"><span class="n">v</span></em>, <em class="sig-param"><span class="n">v_dend</span></em>, <em class="sig-param"><span class="n">thresh</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/ephys.html#BAC_caSpike_height_check_gt2_Na_spikes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.ephys.BAC_caSpike_height_check_gt2_Na_spikes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.ephys.BAC_caSpike_width">
<code class="sig-prename descclassname">biophysics_fitting.ephys.</code><code class="sig-name descname">BAC_caSpike_width</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">t</span></em>, <em class="sig-param"><span class="n">v</span></em>, <em class="sig-param"><span class="n">v_dend</span></em>, <em class="sig-param"><span class="n">thresh</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/ephys.html#BAC_caSpike_width"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.ephys.BAC_caSpike_width" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.ephys.BAC_caSpike_width_check_1_Ca_AP">
<code class="sig-prename descclassname">biophysics_fitting.ephys.</code><code class="sig-name descname">BAC_caSpike_width_check_1_Ca_AP</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">t</span></em>, <em class="sig-param"><span class="n">v</span></em>, <em class="sig-param"><span class="n">v_dend</span></em>, <em class="sig-param"><span class="n">thresh</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#biophysics_fitting.ephys.BAC_caSpike_width_check_1_Ca_AP" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.ephys.BPAPatt">
<code class="sig-prename descclassname">biophysics_fitting.ephys.</code><code class="sig-name descname">BPAPatt</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">t</span></em>, <em class="sig-param"><span class="n">v_dend</span></em>, <em class="sig-param"><span class="n">thresh</span><span class="o">=</span><span class="default_value">'+2mV'</span></em>, <em class="sig-param"><span class="n">stim_onset</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/ephys.html#BPAPatt"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.ephys.BPAPatt" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.ephys.BPAPatt_check_1_AP">
<code class="sig-prename descclassname">biophysics_fitting.ephys.</code><code class="sig-name descname">BPAPatt_check_1_AP</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">t</span></em>, <em class="sig-param"><span class="n">v_soma</span></em>, <em class="sig-param"><span class="n">thresh</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">stim_onset</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/ephys.html#BPAPatt_check_1_AP"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.ephys.BPAPatt_check_1_AP" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.ephys.BPAPatt_check_relative_height">
<code class="sig-prename descclassname">biophysics_fitting.ephys.</code><code class="sig-name descname">BPAPatt_check_relative_height</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">t</span></em>, <em class="sig-param"><span class="n">v_soma</span></em>, <em class="sig-param"><span class="n">v_dend</span></em>, <em class="sig-param"><span class="n">bAP_thresh</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">stim_onset</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/ephys.html#BPAPatt_check_relative_height"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.ephys.BPAPatt_check_relative_height" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.ephys.find_crossing">
<code class="sig-prename descclassname">biophysics_fitting.ephys.</code><code class="sig-name descname">find_crossing</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">v</span></em>, <em class="sig-param"><span class="n">thresh</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/ephys.html#find_crossing"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.ephys.find_crossing" title="Permalink to this definition">¶</a></dt>
<dd><p>Original NEURON doc:
Function that giving a threshold returns a list of two vectors
The first is the crossing up of that threshold
The second is the crossing down of that threshold</p>
<p>Extended doku by Arco: returns [[],[]] if the number of crossing up vs crossing down is not equal.</p>
</dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.ephys.spike_count">
<code class="sig-prename descclassname">biophysics_fitting.ephys.</code><code class="sig-name descname">spike_count</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">t</span></em>, <em class="sig-param"><span class="n">v</span></em>, <em class="sig-param"><span class="n">thresh</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/ephys.html#spike_count"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.ephys.spike_count" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.ephys.trace_check">
<code class="sig-prename descclassname">biophysics_fitting.ephys.</code><code class="sig-name descname">trace_check</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">t</span></em>, <em class="sig-param"><span class="n">v</span></em>, <em class="sig-param"><span class="n">stim_onset</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">stim_duration</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">minspikenum</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">soma_threshold</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">returning_to_rest</span><span class="o">=</span><span class="default_value">2</span></em>, <em class="sig-param"><span class="n">max_prestim_dendrite_depo</span><span class="o">=</span><span class="default_value">- 50</span></em>, <em class="sig-param"><span class="n">vmax</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">''</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/ephys.html#trace_check"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.ephys.trace_check" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.ephys.trace_check_err">
<code class="sig-prename descclassname">biophysics_fitting.ephys.</code><code class="sig-name descname">trace_check_err</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">t</span></em>, <em class="sig-param"><span class="n">v</span></em>, <em class="sig-param"><span class="n">stim_onset</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">stim_duration</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">punish</span><span class="o">=</span><span class="default_value">250</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/ephys.html#trace_check_err"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.ephys.trace_check_err" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.ephys.trace_check_max_prestim_dendrite_depo">
<code class="sig-prename descclassname">biophysics_fitting.ephys.</code><code class="sig-name descname">trace_check_max_prestim_dendrite_depo</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">t</span></em>, <em class="sig-param"><span class="n">vmax</span></em>, <em class="sig-param"><span class="n">stim_onset</span></em>, <em class="sig-param"><span class="n">max_prestim_dendrite_depo</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/ephys.html#trace_check_max_prestim_dendrite_depo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.ephys.trace_check_max_prestim_dendrite_depo" title="Permalink to this definition">¶</a></dt>
<dd><p>added by arco to check whether anywhere in the dendrite there is a spike before stimulus onset</p>
</dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.ephys.voltage_base">
<code class="sig-prename descclassname">biophysics_fitting.ephys.</code><code class="sig-name descname">voltage_base</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">t</span></em>, <em class="sig-param"><span class="n">v</span></em>, <em class="sig-param"><span class="n">stim_delay</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/ephys.html#voltage_base"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.ephys.voltage_base" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.ephys.voltage_base2">
<code class="sig-prename descclassname">biophysics_fitting.ephys.</code><code class="sig-name descname">voltage_base2</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">voltage_traces</span></em>, <em class="sig-param"><span class="n">recSiteID</span></em>, <em class="sig-param"><span class="n">t0</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/ephys.html#voltage_base2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.ephys.voltage_base2" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-biophysics_fitting.evaluator">
<span id="biophysics-fitting-evaluator-module"></span><h2>biophysics_fitting.evaluator module<a class="headerlink" href="#module-biophysics_fitting.evaluator" title="Permalink to this headline">¶</a></h2>
<p>Created on Nov 08, 2018</p>
<p>&#64;author: abast</p>
<dl class="py class">
<dt id="biophysics_fitting.evaluator.Evaluator">
<em class="property">class </em><code class="sig-prename descclassname">biophysics_fitting.evaluator.</code><code class="sig-name descname">Evaluator</code><a class="reference internal" href="_modules/biophysics_fitting/evaluator.html#Evaluator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.evaluator.Evaluator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt id="biophysics_fitting.evaluator.Evaluator.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/evaluator.html#Evaluator.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.evaluator.Evaluator.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>This  class can be used to extract features from (usually) voltagetraces
of different stimuli. The voltage traces are (usually) computed with a Simulator
object by calling its run method.</p>
<p>In an optimization the features returned by Evaluator.evaluate are saved together
with to corresponding parameter values.</p>
<p>Note: Combining features to reduce the number of objectives should be done with the Combiner object.</p>
<p>For a Simulator object s and a Evaluator object e, the typical usecase is:
voltage_traces_dict = s.run(params)
features = e.evaluate(voltage_traces_dict)</p>
<p>The “program flow” in the Evaluator can be split in two parts:
(1) for each key in the voltage_traces_dict:</p>
<blockquote>
<div><dl class="simple">
<dt>—&gt; apply evaluate_fun, that is registered with a name that matches the key.</dt><dd><p>Extracts features from the voltage trace.</p>
</dd>
</dl>
</div></blockquote>
<ol class="arabic simple" start="2">
<li><dl class="simple">
<dt>perform arbitrary operations on the resulting dictionary</dt><dd><p>(e.g. merge it from a nested to a flat dictionary or compute more complex features
by combineing features from different stimuli)</p>
</dd>
</dl>
</li>
</ol>
<p>How can the Evaluator be set up?
An example, how the Evaluator object can be set up can be found in hay_complete_default_setup.</p>
<p>e = Evaluator()
e.setup.evaluate_funs.append([in_name, evaluate_fun, out_name]) # corresponds to step (1)
e.setup.finalize_funs.append(finalize_fun) # corresponds to step (2)</p>
<p>What form do the functions need to have?
def examplary_evaluate_fun(<a href="#id1"><span class="problematic" id="id2">**</span></a>kwargs):</p>
<blockquote>
<div><p># kwargs are keys and values of voltage_traces_dict[in_name]
# extract features from kwargs
return out_dict # keys are names of features, values are features</p>
</div></blockquote>
<dl class="simple">
<dt>def finalize_fun(<a href="#id7"><span class="problematic" id="id8">dict_</span></a>):</dt><dd><p># <a href="#id9"><span class="problematic" id="id10">dict_</span></a> is a dictionary with out_name of the evaluate_funs as keys.
# and the returned dictionary out_dict as values,
# i.e. out_dict is a nested dictionary.
# <a href="#id11"><span class="problematic" id="id12">dict_</span></a> can now be arbitrarily modified, e.g. flattened.
return modified_dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="biophysics_fitting.evaluator.Evaluator.evaluate">
<code class="sig-name descname">evaluate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">features_dict</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/evaluator.html#Evaluator.evaluate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.evaluator.Evaluator.evaluate" title="Permalink to this definition">¶</a></dt>
<dd><p>Extracts features from a simulation result computed by Simulator.run()</p>
<p>Details, how to set up the Evaluator are in the docstring of
the Evaluator class.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="biophysics_fitting.evaluator.Evaluator_Setup">
<em class="property">class </em><code class="sig-prename descclassname">biophysics_fitting.evaluator.</code><code class="sig-name descname">Evaluator_Setup</code><a class="reference internal" href="_modules/biophysics_fitting/evaluator.html#Evaluator_Setup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.evaluator.Evaluator_Setup" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt id="biophysics_fitting.evaluator.Evaluator_Setup.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/evaluator.html#Evaluator_Setup.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.evaluator.Evaluator_Setup.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-biophysics_fitting.hay_complete_default_setup">
<span id="biophysics-fitting-hay-complete-default-setup-module"></span><h2>biophysics_fitting.hay_complete_default_setup module<a class="headerlink" href="#module-biophysics_fitting.hay_complete_default_setup" title="Permalink to this headline">¶</a></h2>
<p>Created on Nov 08, 2018</p>
<p>&#64;author: abast</p>
<dl class="py function">
<dt id="biophysics_fitting.hay_complete_default_setup.get_Combiner">
<code class="sig-prename descclassname">biophysics_fitting.hay_complete_default_setup.</code><code class="sig-name descname">get_Combiner</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">step</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">include_DI3</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/hay_complete_default_setup.html#get_Combiner"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.hay_complete_default_setup.get_Combiner" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.hay_complete_default_setup.get_Evaluator">
<code class="sig-prename descclassname">biophysics_fitting.hay_complete_default_setup.</code><code class="sig-name descname">get_Evaluator</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">step</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">interpolate_voltage_trace</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/hay_complete_default_setup.html#get_Evaluator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.hay_complete_default_setup.get_Evaluator" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.hay_complete_default_setup.get_Simulator">
<code class="sig-prename descclassname">biophysics_fitting.hay_complete_default_setup.</code><code class="sig-name descname">get_Simulator</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fixed_params</span></em>, <em class="sig-param"><span class="n">step</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/hay_complete_default_setup.html#get_Simulator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.hay_complete_default_setup.get_Simulator" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.hay_complete_default_setup.get_feasible_model_objectives">
<code class="sig-prename descclassname">biophysics_fitting.hay_complete_default_setup.</code><code class="sig-name descname">get_feasible_model_objectives</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/hay_complete_default_setup.html#get_feasible_model_objectives"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.hay_complete_default_setup.get_feasible_model_objectives" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.hay_complete_default_setup.get_feasible_model_params">
<code class="sig-prename descclassname">biophysics_fitting.hay_complete_default_setup.</code><code class="sig-name descname">get_feasible_model_params</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/hay_complete_default_setup.html#get_feasible_model_params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.hay_complete_default_setup.get_feasible_model_params" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.hay_complete_default_setup.get_fixed_params_example">
<code class="sig-prename descclassname">biophysics_fitting.hay_complete_default_setup.</code><code class="sig-name descname">get_fixed_params_example</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/hay_complete_default_setup.html#get_fixed_params_example"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.hay_complete_default_setup.get_fixed_params_example" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.hay_complete_default_setup.get_hay_objective_names">
<code class="sig-prename descclassname">biophysics_fitting.hay_complete_default_setup.</code><code class="sig-name descname">get_hay_objective_names</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/hay_complete_default_setup.html#get_hay_objective_names"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.hay_complete_default_setup.get_hay_objective_names" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.hay_complete_default_setup.get_hay_param_names">
<code class="sig-prename descclassname">biophysics_fitting.hay_complete_default_setup.</code><code class="sig-name descname">get_hay_param_names</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/hay_complete_default_setup.html#get_hay_param_names"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.hay_complete_default_setup.get_hay_param_names" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.hay_complete_default_setup.get_hay_params_pdf">
<code class="sig-prename descclassname">biophysics_fitting.hay_complete_default_setup.</code><code class="sig-name descname">get_hay_params_pdf</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/hay_complete_default_setup.html#get_hay_params_pdf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.hay_complete_default_setup.get_hay_params_pdf" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.hay_complete_default_setup.get_hay_problem_description">
<code class="sig-prename descclassname">biophysics_fitting.hay_complete_default_setup.</code><code class="sig-name descname">get_hay_problem_description</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/hay_complete_default_setup.html#get_hay_problem_description"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.hay_complete_default_setup.get_hay_problem_description" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.hay_complete_default_setup.interpolate_vt">
<code class="sig-prename descclassname">biophysics_fitting.hay_complete_default_setup.</code><code class="sig-name descname">interpolate_vt</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">voltage_trace_</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/hay_complete_default_setup.html#interpolate_vt"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.hay_complete_default_setup.interpolate_vt" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.hay_complete_default_setup.record_BAC">
<code class="sig-prename descclassname">biophysics_fitting.hay_complete_default_setup.</code><code class="sig-name descname">record_BAC</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cell</span></em>, <em class="sig-param"><span class="n">recSite</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/hay_complete_default_setup.html#record_BAC"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.hay_complete_default_setup.record_BAC" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.hay_complete_default_setup.record_Step">
<code class="sig-prename descclassname">biophysics_fitting.hay_complete_default_setup.</code><code class="sig-name descname">record_Step</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cell</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/hay_complete_default_setup.html#record_Step"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.hay_complete_default_setup.record_Step" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.hay_complete_default_setup.record_bAP">
<code class="sig-prename descclassname">biophysics_fitting.hay_complete_default_setup.</code><code class="sig-name descname">record_bAP</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cell</span></em>, <em class="sig-param"><span class="n">recSite1</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">recSite2</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/hay_complete_default_setup.html#record_bAP"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.hay_complete_default_setup.record_bAP" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-biophysics_fitting.hay_complete_default_setup_python">
<span id="biophysics-fitting-hay-complete-default-setup-python-module"></span><h2>biophysics_fitting.hay_complete_default_setup_python module<a class="headerlink" href="#module-biophysics_fitting.hay_complete_default_setup_python" title="Permalink to this headline">¶</a></h2>
<p>Created on Nov 08, 2018</p>
<p>&#64;author: abast</p>
<dl class="py function">
<dt id="biophysics_fitting.hay_complete_default_setup_python.get_Combiner">
<code class="sig-prename descclassname">biophysics_fitting.hay_complete_default_setup_python.</code><code class="sig-name descname">get_Combiner</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">step</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/hay_complete_default_setup_python.html#get_Combiner"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.hay_complete_default_setup_python.get_Combiner" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.hay_complete_default_setup_python.get_Evaluator">
<code class="sig-prename descclassname">biophysics_fitting.hay_complete_default_setup_python.</code><code class="sig-name descname">get_Evaluator</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">step</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">vInit</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">bAP_kwargs</span><span class="o">=</span><span class="default_value">{}</span></em>, <em class="sig-param"><span class="n">BAC_kwargs</span><span class="o">=</span><span class="default_value">{}</span></em>, <em class="sig-param"><span class="n">interpolate_voltage_trace</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/hay_complete_default_setup_python.html#get_Evaluator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.hay_complete_default_setup_python.get_Evaluator" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.hay_complete_default_setup_python.get_Simulator">
<code class="sig-prename descclassname">biophysics_fitting.hay_complete_default_setup_python.</code><code class="sig-name descname">get_Simulator</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fixed_params</span></em>, <em class="sig-param"><span class="n">step</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">vInit</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/hay_complete_default_setup_python.html#get_Simulator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.hay_complete_default_setup_python.get_Simulator" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.hay_complete_default_setup_python.interpolate_vt">
<code class="sig-prename descclassname">biophysics_fitting.hay_complete_default_setup_python.</code><code class="sig-name descname">interpolate_vt</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">voltage_trace_</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/hay_complete_default_setup_python.html#interpolate_vt"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.hay_complete_default_setup_python.interpolate_vt" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.hay_complete_default_setup_python.map_truefalse_to_str">
<code class="sig-prename descclassname">biophysics_fitting.hay_complete_default_setup_python.</code><code class="sig-name descname">map_truefalse_to_str</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dict_</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/hay_complete_default_setup_python.html#map_truefalse_to_str"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.hay_complete_default_setup_python.map_truefalse_to_str" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.hay_complete_default_setup_python.record_BAC">
<code class="sig-prename descclassname">biophysics_fitting.hay_complete_default_setup_python.</code><code class="sig-name descname">record_BAC</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cell</span></em>, <em class="sig-param"><span class="n">recSite</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/hay_complete_default_setup_python.html#record_BAC"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.hay_complete_default_setup_python.record_BAC" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.hay_complete_default_setup_python.record_Step">
<code class="sig-prename descclassname">biophysics_fitting.hay_complete_default_setup_python.</code><code class="sig-name descname">record_Step</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cell</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/hay_complete_default_setup_python.html#record_Step"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.hay_complete_default_setup_python.record_Step" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.hay_complete_default_setup_python.record_bAP">
<code class="sig-prename descclassname">biophysics_fitting.hay_complete_default_setup_python.</code><code class="sig-name descname">record_bAP</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cell</span></em>, <em class="sig-param"><span class="n">recSite1</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">recSite2</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/hay_complete_default_setup_python.html#record_bAP"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.hay_complete_default_setup_python.record_bAP" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-biophysics_fitting.hay_evaluation">
<span id="biophysics-fitting-hay-evaluation-module"></span><h2>biophysics_fitting.hay_evaluation module<a class="headerlink" href="#module-biophysics_fitting.hay_evaluation" title="Permalink to this headline">¶</a></h2>
<p>Created on Nov 08, 2018</p>
<p>&#64;author: abast</p>
<dl class="py function">
<dt id="biophysics_fitting.hay_evaluation.get_cur_stim">
<code class="sig-prename descclassname">biophysics_fitting.hay_evaluation.</code><code class="sig-name descname">get_cur_stim</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">stim</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/hay_evaluation.html#get_cur_stim"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.hay_evaluation.get_cur_stim" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.hay_evaluation.get_feasible_model_objectives">
<code class="sig-prename descclassname">biophysics_fitting.hay_evaluation.</code><code class="sig-name descname">get_feasible_model_objectives</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/hay_evaluation.html#get_feasible_model_objectives"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.hay_evaluation.get_feasible_model_objectives" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.hay_evaluation.get_feasible_model_params">
<code class="sig-prename descclassname">biophysics_fitting.hay_evaluation.</code><code class="sig-name descname">get_feasible_model_params</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/hay_evaluation.html#get_feasible_model_params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.hay_evaluation.get_feasible_model_params" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.hay_evaluation.hay_evaluate">
<code class="sig-prename descclassname">biophysics_fitting.hay_evaluation.</code><code class="sig-name descname">hay_evaluate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cur_stim</span></em>, <em class="sig-param"><span class="n">tvec</span></em>, <em class="sig-param"><span class="n">vList</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/hay_evaluation.html#hay_evaluate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.hay_evaluation.hay_evaluate" title="Permalink to this definition">¶</a></dt>
<dd><p>note: I had the problem with python segfaulting as soon as this function got executed.
In that case, make sure, the mechanisms are correctly compiled and loaded.
You can load the mechanisms by importing the mechanisms module.</p>
</dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.hay_evaluation.hay_evaluate_BAC">
<code class="sig-prename descclassname">biophysics_fitting.hay_evaluation.</code><code class="sig-name descname">hay_evaluate_BAC</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tVec</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">vList</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/hay_evaluation.html#hay_evaluate_BAC"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.hay_evaluation.hay_evaluate_BAC" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.hay_evaluation.hay_evaluate_StepOne">
<code class="sig-prename descclassname">biophysics_fitting.hay_evaluation.</code><code class="sig-name descname">hay_evaluate_StepOne</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tVec</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">vList</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/hay_evaluation.html#hay_evaluate_StepOne"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.hay_evaluation.hay_evaluate_StepOne" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.hay_evaluation.hay_evaluate_StepThree">
<code class="sig-prename descclassname">biophysics_fitting.hay_evaluation.</code><code class="sig-name descname">hay_evaluate_StepThree</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tVec</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">vList</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/hay_evaluation.html#hay_evaluate_StepThree"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.hay_evaluation.hay_evaluate_StepThree" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.hay_evaluation.hay_evaluate_StepTwo">
<code class="sig-prename descclassname">biophysics_fitting.hay_evaluation.</code><code class="sig-name descname">hay_evaluate_StepTwo</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tVec</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">vList</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/hay_evaluation.html#hay_evaluate_StepTwo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.hay_evaluation.hay_evaluate_StepTwo" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.hay_evaluation.hay_evaluate_bAP">
<code class="sig-prename descclassname">biophysics_fitting.hay_evaluation.</code><code class="sig-name descname">hay_evaluate_bAP</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tVec</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">vList</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/hay_evaluation.html#hay_evaluate_bAP"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.hay_evaluation.hay_evaluate_bAP" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.hay_evaluation.hay_objective_function">
<code class="sig-prename descclassname">biophysics_fitting.hay_evaluation.</code><code class="sig-name descname">hay_objective_function</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/hay_evaluation.html#hay_objective_function"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.hay_evaluation.hay_objective_function" title="Permalink to this definition">¶</a></dt>
<dd><p>evaluates L5tt cell Nr. 86 using the channel densities defined in x.
x: numpy array of length 32 specifying the free parameters
returns: np.array of length 5 representing the 5 objectives</p>
</dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.hay_evaluation.is_setup">
<code class="sig-prename descclassname">biophysics_fitting.hay_evaluation.</code><code class="sig-name descname">is_setup</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/hay_evaluation.html#is_setup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.hay_evaluation.is_setup" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.hay_evaluation.setup_hay_evaluator">
<code class="sig-prename descclassname">biophysics_fitting.hay_evaluation.</code><code class="sig-name descname">setup_hay_evaluator</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">testing</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/hay_evaluation.html#setup_hay_evaluator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.hay_evaluation.setup_hay_evaluator" title="Permalink to this definition">¶</a></dt>
<dd><p>this adds a stump cell to the neuron environment,which is
necessary to acces the hay evaluate functions. For the vairalbe time step solver,
this changes the step size and can therefore minimally change the results.
before testing reproducability, it is therefore necessary to initialize
the evaluator</p>
</dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.hay_evaluation.test">
<code class="sig-prename descclassname">biophysics_fitting.hay_evaluation.</code><code class="sig-name descname">test</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/hay_evaluation.html#test"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.hay_evaluation.test" title="Permalink to this definition">¶</a></dt>
<dd><p>compare the result of the optimization of the hay evaluator with a precomputed result</p>
</dd></dl>

</div>
<div class="section" id="module-biophysics_fitting.hay_evaluation_python">
<span id="biophysics-fitting-hay-evaluation-python-module"></span><h2>biophysics_fitting.hay_evaluation_python module<a class="headerlink" href="#module-biophysics_fitting.hay_evaluation_python" title="Permalink to this headline">¶</a></h2>
<p>Created on Nov 08, 2018</p>
<p>&#64;author: abast</p>
<dl class="py class">
<dt id="biophysics_fitting.hay_evaluation_python.BAC">
<em class="property">class </em><code class="sig-prename descclassname">biophysics_fitting.hay_evaluation_python.</code><code class="sig-name descname">BAC</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">hot_zone_thresh</span><span class="o">=</span><span class="default_value">- 55</span></em>, <em class="sig-param"><span class="n">soma_thresh</span><span class="o">=</span><span class="default_value">- 30</span></em>, <em class="sig-param"><span class="n">ca_max_after_nth_somatic_spike</span><span class="o">=</span><span class="default_value">2</span></em>, <em class="sig-param"><span class="n">stim_onset</span><span class="o">=</span><span class="default_value">295</span></em>, <em class="sig-param"><span class="n">stim_duration</span><span class="o">=</span><span class="default_value">45</span></em>, <em class="sig-param"><span class="n">repolarization</span><span class="o">=</span><span class="default_value">- 55</span></em>, <em class="sig-param"><span class="n">punish</span><span class="o">=</span><span class="default_value">250</span></em>, <em class="sig-param"><span class="n">punish_last_spike_after_deadline</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">punish_minspikenum</span><span class="o">=</span><span class="default_value">2</span></em>, <em class="sig-param"><span class="n">punish_returning_to_rest_tolerance</span><span class="o">=</span><span class="default_value">2.0</span></em>, <em class="sig-param"><span class="n">punish_max_prestim_dendrite_depo</span><span class="o">=</span><span class="default_value">- 50</span></em>, <em class="sig-param"><span class="n">prefix</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">definitions</span><span class="o">=</span><span class="default_value">{'BAC_APheight': 'AP_height', 25.0, 5.0, 'BAC_ISI': 'BAC_ISI', 9.901, 0.8517, 'BAC_ahpdepth': 'AHP_depth_abs', - 65.0, 4.0, 'BAC_caSpike_height': 'BAC_caSpike_height', 6.73, 2.54, 'BAC_caSpike_width': 'BAC_caSpike_width', 37.43, 1.27, 'BAC_spikecount': 'Spikecount', 3.0, 0.01}</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/hay_evaluation_python.html#BAC"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.hay_evaluation_python.BAC" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt id="biophysics_fitting.hay_evaluation_python.BAC.BAC_APheight">
<code class="sig-name descname">BAC_APheight</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">voltage_traces</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/hay_evaluation_python.html#BAC.BAC_APheight"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.hay_evaluation_python.BAC.BAC_APheight" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="biophysics_fitting.hay_evaluation_python.BAC.BAC_ISI">
<code class="sig-name descname">BAC_ISI</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">voltage_traces</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/hay_evaluation_python.html#BAC.BAC_ISI"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.hay_evaluation_python.BAC.BAC_ISI" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="biophysics_fitting.hay_evaluation_python.BAC.BAC_ahpdepth">
<code class="sig-name descname">BAC_ahpdepth</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">voltage_traces</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/hay_evaluation_python.html#BAC.BAC_ahpdepth"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.hay_evaluation_python.BAC.BAC_ahpdepth" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="biophysics_fitting.hay_evaluation_python.BAC.BAC_caSpike_height">
<code class="sig-name descname">BAC_caSpike_height</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">voltage_traces</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/hay_evaluation_python.html#BAC.BAC_caSpike_height"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.hay_evaluation_python.BAC.BAC_caSpike_height" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="biophysics_fitting.hay_evaluation_python.BAC.BAC_caSpike_width">
<code class="sig-name descname">BAC_caSpike_width</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">voltage_traces</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/hay_evaluation_python.html#BAC.BAC_caSpike_width"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.hay_evaluation_python.BAC.BAC_caSpike_width" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="biophysics_fitting.hay_evaluation_python.BAC.BAC_spikecount">
<code class="sig-name descname">BAC_spikecount</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">voltage_traces</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/hay_evaluation_python.html#BAC.BAC_spikecount"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.hay_evaluation_python.BAC.BAC_spikecount" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="biophysics_fitting.hay_evaluation_python.BAC.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">hot_zone_thresh</span><span class="o">=</span><span class="default_value">- 55</span></em>, <em class="sig-param"><span class="n">soma_thresh</span><span class="o">=</span><span class="default_value">- 30</span></em>, <em class="sig-param"><span class="n">ca_max_after_nth_somatic_spike</span><span class="o">=</span><span class="default_value">2</span></em>, <em class="sig-param"><span class="n">stim_onset</span><span class="o">=</span><span class="default_value">295</span></em>, <em class="sig-param"><span class="n">stim_duration</span><span class="o">=</span><span class="default_value">45</span></em>, <em class="sig-param"><span class="n">repolarization</span><span class="o">=</span><span class="default_value">- 55</span></em>, <em class="sig-param"><span class="n">punish</span><span class="o">=</span><span class="default_value">250</span></em>, <em class="sig-param"><span class="n">punish_last_spike_after_deadline</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">punish_minspikenum</span><span class="o">=</span><span class="default_value">2</span></em>, <em class="sig-param"><span class="n">punish_returning_to_rest_tolerance</span><span class="o">=</span><span class="default_value">2.0</span></em>, <em class="sig-param"><span class="n">punish_max_prestim_dendrite_depo</span><span class="o">=</span><span class="default_value">- 50</span></em>, <em class="sig-param"><span class="n">prefix</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">definitions</span><span class="o">=</span><span class="default_value">{'BAC_APheight': 'AP_height', 25.0, 5.0, 'BAC_ISI': 'BAC_ISI', 9.901, 0.8517, 'BAC_ahpdepth': 'AHP_depth_abs', - 65.0, 4.0, 'BAC_caSpike_height': 'BAC_caSpike_height', 6.73, 2.54, 'BAC_caSpike_width': 'BAC_caSpike_width', 37.43, 1.27, 'BAC_spikecount': 'Spikecount', 3.0, 0.01}</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/hay_evaluation_python.html#BAC.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.hay_evaluation_python.BAC.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>
</dd></dl>

<dl class="py method">
<dt id="biophysics_fitting.hay_evaluation_python.BAC.check">
<code class="sig-name descname">check</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">out</span></em>, <em class="sig-param"><span class="n">voltage_traces</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/hay_evaluation_python.html#BAC.check"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.hay_evaluation_python.BAC.check" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="biophysics_fitting.hay_evaluation_python.BAC.get">
<code class="sig-name descname">get</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">voltage_traces</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/hay_evaluation_python.html#BAC.get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.hay_evaluation_python.BAC.get" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="biophysics_fitting.hay_evaluation_python.bAP">
<em class="property">class </em><code class="sig-prename descclassname">biophysics_fitting.hay_evaluation_python.</code><code class="sig-name descname">bAP</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">soma_thresh</span><span class="o">=</span><span class="default_value">- 30</span></em>, <em class="sig-param"><span class="n">stim_onset</span><span class="o">=</span><span class="default_value">295</span></em>, <em class="sig-param"><span class="n">stim_duration</span><span class="o">=</span><span class="default_value">5</span></em>, <em class="sig-param"><span class="n">bAP_thresh</span><span class="o">=</span><span class="default_value">'+2mV'</span></em>, <em class="sig-param"><span class="n">punish</span><span class="o">=</span><span class="default_value">250.0</span></em>, <em class="sig-param"><span class="n">punish_last_spike_after_deadline</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">punish_minspikenum</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">punish_returning_to_rest_tolerance</span><span class="o">=</span><span class="default_value">2.0</span></em>, <em class="sig-param"><span class="n">definitions</span><span class="o">=</span><span class="default_value">{'bAP_APheight': 'AP_height', 25.0, 5.0, 'bAP_APwidth': 'AP_width', 2.0, 0.5, 'bAP_att2': 'BPAPatt2', 45.0, 10.0, 'bAP_att3': 'BPAPatt3', 36.0, 9.33, 'bAP_spikecount': 'Spikecount', 1.0, 0.01}</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/hay_evaluation_python.html#bAP"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.hay_evaluation_python.bAP" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt id="biophysics_fitting.hay_evaluation_python.bAP.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">soma_thresh</span><span class="o">=</span><span class="default_value">- 30</span></em>, <em class="sig-param"><span class="n">stim_onset</span><span class="o">=</span><span class="default_value">295</span></em>, <em class="sig-param"><span class="n">stim_duration</span><span class="o">=</span><span class="default_value">5</span></em>, <em class="sig-param"><span class="n">bAP_thresh</span><span class="o">=</span><span class="default_value">'+2mV'</span></em>, <em class="sig-param"><span class="n">punish</span><span class="o">=</span><span class="default_value">250.0</span></em>, <em class="sig-param"><span class="n">punish_last_spike_after_deadline</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">punish_minspikenum</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">punish_returning_to_rest_tolerance</span><span class="o">=</span><span class="default_value">2.0</span></em>, <em class="sig-param"><span class="n">definitions</span><span class="o">=</span><span class="default_value">{'bAP_APheight': 'AP_height', 25.0, 5.0, 'bAP_APwidth': 'AP_width', 2.0, 0.5, 'bAP_att2': 'BPAPatt2', 45.0, 10.0, 'bAP_att3': 'BPAPatt3', 36.0, 9.33, 'bAP_spikecount': 'Spikecount', 1.0, 0.01}</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/hay_evaluation_python.html#bAP.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.hay_evaluation_python.bAP.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>
</dd></dl>

<dl class="py method">
<dt id="biophysics_fitting.hay_evaluation_python.bAP.bAP_APheight">
<code class="sig-name descname">bAP_APheight</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">voltage_traces</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/hay_evaluation_python.html#bAP.bAP_APheight"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.hay_evaluation_python.bAP.bAP_APheight" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="biophysics_fitting.hay_evaluation_python.bAP.bAP_APwidth">
<code class="sig-name descname">bAP_APwidth</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">voltage_traces</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/hay_evaluation_python.html#bAP.bAP_APwidth"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.hay_evaluation_python.bAP.bAP_APwidth" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="biophysics_fitting.hay_evaluation_python.bAP.bAP_att2">
<code class="sig-name descname">bAP_att2</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">voltage_traces</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/hay_evaluation_python.html#bAP.bAP_att2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.hay_evaluation_python.bAP.bAP_att2" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="biophysics_fitting.hay_evaluation_python.bAP.bAP_att3">
<code class="sig-name descname">bAP_att3</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">voltage_traces</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/hay_evaluation_python.html#bAP.bAP_att3"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.hay_evaluation_python.bAP.bAP_att3" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="biophysics_fitting.hay_evaluation_python.bAP.bAP_spikecount">
<code class="sig-name descname">bAP_spikecount</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">voltage_traces</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/hay_evaluation_python.html#bAP.bAP_spikecount"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.hay_evaluation_python.bAP.bAP_spikecount" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="biophysics_fitting.hay_evaluation_python.bAP.check">
<code class="sig-name descname">check</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">out</span></em>, <em class="sig-param"><span class="n">voltage_traces</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/hay_evaluation_python.html#bAP.check"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.hay_evaluation_python.bAP.check" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="biophysics_fitting.hay_evaluation_python.bAP.get">
<code class="sig-name descname">get</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">voltage_traces</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/hay_evaluation_python.html#bAP.get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.hay_evaluation_python.bAP.get" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.hay_evaluation_python.get_evaluate_BAC">
<code class="sig-prename descclassname">biophysics_fitting.hay_evaluation_python.</code><code class="sig-name descname">get_evaluate_BAC</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/hay_evaluation_python.html#get_evaluate_BAC"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.hay_evaluation_python.get_evaluate_BAC" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.hay_evaluation_python.get_evaluate_bAP">
<code class="sig-prename descclassname">biophysics_fitting.hay_evaluation_python.</code><code class="sig-name descname">get_evaluate_bAP</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/hay_evaluation_python.html#get_evaluate_bAP"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.hay_evaluation_python.get_evaluate_bAP" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.hay_evaluation_python.nan_if_error">
<code class="sig-prename descclassname">biophysics_fitting.hay_evaluation_python.</code><code class="sig-name descname">nan_if_error</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fun</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/hay_evaluation_python.html#nan_if_error"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.hay_evaluation_python.nan_if_error" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.hay_evaluation_python.normalize">
<code class="sig-prename descclassname">biophysics_fitting.hay_evaluation_python.</code><code class="sig-name descname">normalize</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">raw</span></em>, <em class="sig-param"><span class="n">mean</span></em>, <em class="sig-param"><span class="n">std</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/hay_evaluation_python.html#normalize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.hay_evaluation_python.normalize" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-biophysics_fitting.hay_specification">
<span id="biophysics-fitting-hay-specification-module"></span><h2>biophysics_fitting.hay_specification module<a class="headerlink" href="#module-biophysics_fitting.hay_specification" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="biophysics_fitting.hay_specification.get_feasible_model_objectives">
<code class="sig-prename descclassname">biophysics_fitting.hay_specification.</code><code class="sig-name descname">get_feasible_model_objectives</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/hay_specification.html#get_feasible_model_objectives"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.hay_specification.get_feasible_model_objectives" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.hay_specification.get_feasible_model_params">
<code class="sig-prename descclassname">biophysics_fitting.hay_specification.</code><code class="sig-name descname">get_feasible_model_params</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/hay_specification.html#get_feasible_model_params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.hay_specification.get_feasible_model_params" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.hay_specification.get_hay_objective_names">
<code class="sig-prename descclassname">biophysics_fitting.hay_specification.</code><code class="sig-name descname">get_hay_objective_names</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/hay_specification.html#get_hay_objective_names"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.hay_specification.get_hay_objective_names" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.hay_specification.get_hay_param_names">
<code class="sig-prename descclassname">biophysics_fitting.hay_specification.</code><code class="sig-name descname">get_hay_param_names</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/hay_specification.html#get_hay_param_names"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.hay_specification.get_hay_param_names" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.hay_specification.get_hay_params_pdf">
<code class="sig-prename descclassname">biophysics_fitting.hay_specification.</code><code class="sig-name descname">get_hay_params_pdf</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/hay_specification.html#get_hay_params_pdf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.hay_specification.get_hay_params_pdf" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.hay_specification.get_hay_problem_description">
<code class="sig-prename descclassname">biophysics_fitting.hay_specification.</code><code class="sig-name descname">get_hay_problem_description</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/hay_specification.html#get_hay_problem_description"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.hay_specification.get_hay_problem_description" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-biophysics_fitting.model_selection">
<span id="biophysics-fitting-model-selection-module"></span><h2>biophysics_fitting.model_selection module<a class="headerlink" href="#module-biophysics_fitting.model_selection" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="biophysics_fitting.model_selection.get_model_pdf_from_mdb">
<code class="sig-prename descclassname">biophysics_fitting.model_selection.</code><code class="sig-name descname">get_model_pdf_from_mdb</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mdb</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/model_selection.html#get_model_pdf_from_mdb"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.model_selection.get_model_pdf_from_mdb" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.model_selection.get_pdf_selected">
<code class="sig-prename descclassname">biophysics_fitting.model_selection.</code><code class="sig-name descname">get_pdf_selected</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pdf</span></em>, <em class="sig-param"><span class="n">BAC_limit</span><span class="o">=</span><span class="default_value">3.5</span></em>, <em class="sig-param"><span class="n">step_limit</span><span class="o">=</span><span class="default_value">4.5</span></em>, <em class="sig-param"><span class="n">objectives_BAC</span><span class="o">=</span><span class="default_value">['BAC_APheight', 'BAC_ISI', 'BAC_ahpdepth', 'BAC_caSpike_height', 'BAC_caSpike_width', 'BAC_spikecount', 'bAP_APheight', 'bAP_APwidth', 'bAP_att2', 'bAP_att3', 'bAP_spikecount']</span></em>, <em class="sig-param"><span class="n">objectives_step</span><span class="o">=</span><span class="default_value">['AI1', 'AI2', 'AI3', 'APh1', 'APh2', 'APh3', 'APw1', 'APw2', 'APw3', 'DI1', 'DI2', 'ISIcv1', 'ISIcv2', 'ISIcv3', 'TTFS1', 'TTFS2', 'TTFS3', 'fAHPd1', 'fAHPd2', 'fAHPd3', 'mf1', 'mf2', 'mf3', 'sAHPd1', 'sAHPd2', 'sAHPd3', 'sAHPt1', 'sAHPt2', 'sAHPt3']</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/model_selection.html#get_pdf_selected"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.model_selection.get_pdf_selected" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-biophysics_fitting.optimizer">
<span id="biophysics-fitting-optimizer-module"></span><h2>biophysics_fitting.optimizer module<a class="headerlink" href="#module-biophysics_fitting.optimizer" title="Permalink to this headline">¶</a></h2>
<p>Partly copy pasted from the BluePyOpt package, however extended, such that a start population can be defined.
Also extended, such that the optimizations can be organized in a model data base.
Also extended to be executed on a distributed system using dask.
Also extended to return all objectives, not only the combined ones.
Note: the population needs to be in a special format. Use methods in biophysics_fitting.population
to create a population.</p>
<p>The main interface is the function start_run.</p>
<dl class="py class">
<dt id="biophysics_fitting.optimizer.my_ibea_evaluator">
<em class="property">class </em><code class="sig-prename descclassname">biophysics_fitting.optimizer.</code><code class="sig-name descname">my_ibea_evaluator</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">parameter_df</span></em>, <em class="sig-param"><span class="n">n_objectives</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/optimizer.html#my_ibea_evaluator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.optimizer.my_ibea_evaluator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">bluepyopt.evaluators.Evaluator</span></code></p>
<p>Graupner-Brunel Evaluator</p>
<dl class="py method">
<dt id="biophysics_fitting.optimizer.my_ibea_evaluator.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">parameter_df</span></em>, <em class="sig-param"><span class="n">n_objectives</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/optimizer.html#my_ibea_evaluator.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.optimizer.my_ibea_evaluator.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructor</p>
</dd></dl>

<dl class="py method">
<dt id="biophysics_fitting.optimizer.my_ibea_evaluator.evaluate_with_lists">
<code class="sig-name descname">evaluate_with_lists</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">param_values</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/optimizer.html#my_ibea_evaluator.evaluate_with_lists"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.optimizer.my_ibea_evaluator.evaluate_with_lists" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate parameter a parameter set (abstract).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>params</strong> (<em>list of Parameters</em>) – The parameter values to be evaluated.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of Objectives with values calculated by the Evaluator.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>objectives (list of Objectives)</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.optimizer.eaAlphaMuPlusLambdaCheckpoint">
<code class="sig-prename descclassname">biophysics_fitting.optimizer.</code><code class="sig-name descname">eaAlphaMuPlusLambdaCheckpoint</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">population</span></em>, <em class="sig-param"><span class="n">toolbox</span></em>, <em class="sig-param"><span class="n">mu</span></em>, <em class="sig-param"><span class="n">cxpb</span></em>, <em class="sig-param"><span class="n">mutpb</span></em>, <em class="sig-param"><span class="n">ngen</span></em>, <em class="sig-param"><span class="n">stats</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">halloffame</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">cp_frequency</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">mdb_run</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">continue_cp</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">mdb</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/optimizer.html#eaAlphaMuPlusLambdaCheckpoint"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.optimizer.eaAlphaMuPlusLambdaCheckpoint" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the <span class="math notranslate nohighlight">\((~\alpha,\mu~,~\lambda)\)</span> evolutionary algorithm
:param population:
:type population: list of deap Individuals
:param toolbox:
:type toolbox: deap Toolbox
:param mu: Total parent population size of EA
:type mu: int
:param cxpb: Crossover probability
:type cxpb: float
:param mutpb: Mutation probability
:type mutpb: float
:param ngen: Total number of generation to run
:type ngen: int
:param stats: generation of statistics
:type stats: deap.tools.Statistics
:param halloffame: hall of fame
:type halloffame: deap.tools.HallOfFame
:param cp_frequency: generations between checkpoints
:type cp_frequency: int
:param cp_filename: mdb_run, where the checkpoint is stored in [generation]_checlpoint. Was: path to checkpoint filename
:type cp_filename: ModelDataBase or None
:param continue_cp: whether to continue
:type continue_cp: bool</p>
</dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.optimizer.get_max_generation">
<code class="sig-prename descclassname">biophysics_fitting.optimizer.</code><code class="sig-name descname">get_max_generation</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mdb_run</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/optimizer.html#get_max_generation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.optimizer.get_max_generation" title="Permalink to this definition">¶</a></dt>
<dd><p>returns the index of the next iteration</p>
</dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.optimizer.get_mymap">
<code class="sig-prename descclassname">biophysics_fitting.optimizer.</code><code class="sig-name descname">get_mymap</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mdb_setup</span></em>, <em class="sig-param"><span class="n">mdb_run</span></em>, <em class="sig-param"><span class="n">c</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/optimizer.html#get_mymap"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.optimizer.get_mymap" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.optimizer.get_objective_function">
<code class="sig-prename descclassname">biophysics_fitting.optimizer.</code><code class="sig-name descname">get_objective_function</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mdb_setup</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/optimizer.html#get_objective_function"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.optimizer.get_objective_function" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.optimizer.get_population_with_different_n_objectives">
<code class="sig-prename descclassname">biophysics_fitting.optimizer.</code><code class="sig-name descname">get_population_with_different_n_objectives</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">old_pop</span></em>, <em class="sig-param"><span class="n">n_objectives</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/optimizer.html#get_population_with_different_n_objectives"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.optimizer.get_population_with_different_n_objectives" title="Permalink to this definition">¶</a></dt>
<dd><p>function to adapt the number of objectives of individuals</p>
</dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.optimizer.robust_int">
<code class="sig-prename descclassname">biophysics_fitting.optimizer.</code><code class="sig-name descname">robust_int</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/optimizer.html#robust_int"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.optimizer.robust_int" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.optimizer.run">
<code class="sig-prename descclassname">biophysics_fitting.optimizer.</code><code class="sig-name descname">run</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em>, <em class="sig-param"><span class="n">max_ngen</span><span class="o">=</span><span class="default_value">10</span></em>, <em class="sig-param"><span class="n">offspring_size</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">continue_cp</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">cp_filename</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">cp_frequency</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">pop</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">mdb</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/optimizer.html#run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.optimizer.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy pasted from the BluePyOpt package, however extended, such that a start population can be defined.
Note: the population needs to be in a special format. Use methods in biophysics_fitting.population
to create a population.</p>
</dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.optimizer.save_result">
<code class="sig-prename descclassname">biophysics_fitting.optimizer.</code><code class="sig-name descname">save_result</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mdb_run</span></em>, <em class="sig-param"><span class="n">features</span></em>, <em class="sig-param"><span class="n">objectives</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/optimizer.html#save_result"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.optimizer.save_result" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.optimizer.setup_mdb_run">
<code class="sig-prename descclassname">biophysics_fitting.optimizer.</code><code class="sig-name descname">setup_mdb_run</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mdb_setup</span></em>, <em class="sig-param"><span class="n">run</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/optimizer.html#setup_mdb_run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.optimizer.setup_mdb_run" title="Permalink to this definition">¶</a></dt>
<dd><p>mdb_setup contains a sub mdb for each run of the full optimization. This sub mdb is created here</p>
</dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.optimizer.start_run">
<code class="sig-prename descclassname">biophysics_fitting.optimizer.</code><code class="sig-name descname">start_run</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mdb_setup</span></em>, <em class="sig-param"><span class="n">n</span></em>, <em class="sig-param"><span class="n">pop</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">client</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">continue_cp</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">offspring_size</span><span class="o">=</span><span class="default_value">1000</span></em>, <em class="sig-param"><span class="n">eta</span><span class="o">=</span><span class="default_value">10</span></em>, <em class="sig-param"><span class="n">mutpb</span><span class="o">=</span><span class="default_value">0.3</span></em>, <em class="sig-param"><span class="n">cxpb</span><span class="o">=</span><span class="default_value">0.7</span></em>, <em class="sig-param"><span class="n">max_ngen</span><span class="o">=</span><span class="default_value">600</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/optimizer.html#start_run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.optimizer.start_run" title="Permalink to this definition">¶</a></dt>
<dd><p>function to start an optimization run as specified in mdb_setup. The following attributes need
to be defined in mdb_setup:</p>
<ul class="simple">
<li><p>params … this is a pandas.DataFrame with the parameternames as index and the columns <a href="#id13"><span class="problematic" id="id14">min_</span></a> and <a href="#id15"><span class="problematic" id="id16">max_</span></a></p></li>
<li><p>get_Simulator … function, that returns a biophysics_fitting.simulator.Simulator object</p></li>
<li><p>get_Evaluator … function, that returns a biophysics_fitting.evaluator.Evaluator object.</p></li>
<li><p>get_Combiner … function, that returns a biophysics_fitting.combiner.Combiner object</p></li>
</ul>
<p>get_Simulator, get_Evaluator, get_Combiner accept the mdb_setup model_data_base as argument.</p>
<p>This allows, that e.g. the Simular can depend on the model_data_base. Therefore it is e.g. possible,
that the path to the morphology is not saved as absolute path. Instead, fixed parameters can be
updated accordingly.</p>
<p>For an exemplary setup of a Simulaotr, Evaluator and Combiner object, see
biophysics_fitting.hay_complete_default_setup.</p>
<p>For on examplary setup of a complete optimization project see
20190111_fitting_CDK_morphologies_Kv3_1_slope_step.ipynb</p>
<p>You can also have a look at the test case in test_biophysics_fitting.test_optimizer.py</p>
</dd></dl>

</div>
<div class="section" id="module-biophysics_fitting.parameters">
<span id="biophysics-fitting-parameters-module"></span><h2>biophysics_fitting.parameters module<a class="headerlink" href="#module-biophysics_fitting.parameters" title="Permalink to this headline">¶</a></h2>
<p>Created on Nov 08, 2018</p>
<p>&#64;author: abast</p>
<dl class="py function">
<dt id="biophysics_fitting.parameters.param_selector">
<code class="sig-prename descclassname">biophysics_fitting.parameters.</code><code class="sig-name descname">param_selector</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">params</span></em>, <em class="sig-param"><span class="n">s</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/parameters.html#param_selector"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.parameters.param_selector" title="Permalink to this definition">¶</a></dt>
<dd><p>Allows to select from a Series with an Index like a.b.c, a.b.d.</p>
<p>params is a series with an index that contains strings seperated by “.”
Therefore, params can reflect a hierarchy, e.g.</p>
<blockquote>
<div><p>a.a   1
a.b   2
c.x   1
c.a.b 7</p>
</div></blockquote>
<p>This method allows to select from that Series using a string s. E.g.</p>
<dl class="simple">
<dt>param_selector(params, ‘a’):</dt><dd><p>&gt; a    1
&gt; b    2</p>
</dd>
<dt>param_selector(params, ‘c.a’):</dt><dd><p>&gt; b    7</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.parameters.param_to_kwargs">
<code class="sig-prename descclassname">biophysics_fitting.parameters.</code><code class="sig-name descname">param_to_kwargs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fun</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/parameters.html#param_to_kwargs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.parameters.param_to_kwargs" title="Permalink to this definition">¶</a></dt>
<dd><p>returns a function that can be called with params = [some_Series].
The content of Series is added to kwargs</p>
</dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.parameters.set_fixed_params">
<code class="sig-prename descclassname">biophysics_fitting.parameters.</code><code class="sig-name descname">set_fixed_params</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">params</span></em>, <em class="sig-param"><span class="n">fixed_params</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/parameters.html#set_fixed_params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.parameters.set_fixed_params" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-biophysics_fitting.setup_stim">
<span id="biophysics-fitting-setup-stim-module"></span><h2>biophysics_fitting.setup_stim module<a class="headerlink" href="#module-biophysics_fitting.setup_stim" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="biophysics_fitting.setup_stim.setup_BAC">
<code class="sig-prename descclassname">biophysics_fitting.setup_stim.</code><code class="sig-name descname">setup_BAC</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cell</span></em>, <em class="sig-param"><span class="n">dist</span><span class="o">=</span><span class="default_value">970</span></em>, <em class="sig-param"><span class="n">delay</span><span class="o">=</span><span class="default_value">295</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/setup_stim.html#setup_BAC"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.setup_stim.setup_BAC" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.setup_stim.setup_StepOne">
<code class="sig-prename descclassname">biophysics_fitting.setup_stim.</code><code class="sig-name descname">setup_StepOne</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cell</span></em>, <em class="sig-param"><span class="n">delay</span><span class="o">=</span><span class="default_value">700</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/setup_stim.html#setup_StepOne"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.setup_stim.setup_StepOne" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.setup_stim.setup_StepThree">
<code class="sig-prename descclassname">biophysics_fitting.setup_stim.</code><code class="sig-name descname">setup_StepThree</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cell</span></em>, <em class="sig-param"><span class="n">delay</span><span class="o">=</span><span class="default_value">700</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/setup_stim.html#setup_StepThree"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.setup_stim.setup_StepThree" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.setup_stim.setup_StepTwo">
<code class="sig-prename descclassname">biophysics_fitting.setup_stim.</code><code class="sig-name descname">setup_StepTwo</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cell</span></em>, <em class="sig-param"><span class="n">delay</span><span class="o">=</span><span class="default_value">700</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/setup_stim.html#setup_StepTwo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.setup_stim.setup_StepTwo" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.setup_stim.setup_apical_epsp_injection">
<code class="sig-prename descclassname">biophysics_fitting.setup_stim.</code><code class="sig-name descname">setup_apical_epsp_injection</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cell</span></em>, <em class="sig-param"><span class="n">dist</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">amplitude</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">delay</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">rise</span><span class="o">=</span><span class="default_value">1.0</span></em>, <em class="sig-param"><span class="n">decay</span><span class="o">=</span><span class="default_value">5</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/setup_stim.html#setup_apical_epsp_injection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.setup_stim.setup_apical_epsp_injection" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.setup_stim.setup_bAP">
<code class="sig-prename descclassname">biophysics_fitting.setup_stim.</code><code class="sig-name descname">setup_bAP</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cell</span></em>, <em class="sig-param"><span class="n">delay</span><span class="o">=</span><span class="default_value">295</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/setup_stim.html#setup_bAP"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.setup_stim.setup_bAP" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.setup_stim.setup_soma_step">
<code class="sig-prename descclassname">biophysics_fitting.setup_stim.</code><code class="sig-name descname">setup_soma_step</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cell</span></em>, <em class="sig-param"><span class="n">amplitude</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">delay</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">duration</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">dist</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/setup_stim.html#setup_soma_step"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.setup_stim.setup_soma_step" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-biophysics_fitting.simulator">
<span id="biophysics-fitting-simulator-module"></span><h2>biophysics_fitting.simulator module<a class="headerlink" href="#module-biophysics_fitting.simulator" title="Permalink to this headline">¶</a></h2>
<p>Created on Nov 08, 2018</p>
<p>&#64;author: abast</p>
<p>For detailed documentation start with the docstring of the Simulator class.</p>
<dl class="py class">
<dt id="biophysics_fitting.simulator.Simulator">
<em class="property">class </em><code class="sig-prename descclassname">biophysics_fitting.simulator.</code><code class="sig-name descname">Simulator</code><a class="reference internal" href="_modules/biophysics_fitting/simulator.html#Simulator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.simulator.Simulator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class can be used to transform a parameter vector into simulated voltage traces.</p>
<p>The usual application is to specify biophysical parameters in a parameter vector and simulate
current injection responses depending on these parameters.</p>
<p>For a simulator object s, the main functions are:
s.run(params): returns a dictionary with the specified voltagetraces for all stimuli
s.get_simulated_cell(params, stim): returns params and cell object for stimulus stim
s.setup.get(params):</p>
<blockquote>
<div><p>Returns a cell with set up biophysics</p>
</div></blockquote>
<dl class="simple">
<dt>s.setup.get_cell_params(params): returns cell NTParameterSet structure used for the</dt><dd><p>single_cell_parser.create_cell. This is helpful for inspecting, what parameters
have effectively been used for the simulation</p>
</dd>
<dt>s.setup.get_cell_params_with_default_sim_prams(params, …): returns complete neuron parameter file</dt><dd><p>that can be used for further simulations, i.e. with the simrun module or with roberts scripts.</p>
</dd>
</dl>
<p>The “program flow” can be split in two parts.
(1) creating a cell object with set up biophysics from a parameter vector
(2) applying a variety of stimuli to such cell objects</p>
<p>An examplary specification of such a program flow can be found in the module hay_complete_default_setup.</p>
<p>The pipeline for (1) is as follows:
params: provided by the user: I.pd.Series object (keys: parameter names, values: parameter values)</p>
<blockquote>
<div><dl>
<dt>–&gt; apply param_modify_functions (takes and returns a parameter vector, can alter it in any way)</dt><dd><blockquote>
<div><div class="line-block">
<div class="line"><br /></div>
<div class="line-block">
<div class="line"><a href="#id3"><span class="problematic" id="id4">|</span></a>—- cell_param template</div>
</div>
</div>
</div></blockquote>
<dl>
<dt>cell_params_generator</dt><dd><div class="line-block">
<div class="line"><a href="#id5"><span class="problematic" id="id6">|</span></a></div>
</div>
<p>v     v</p>
</dd>
</dl>
</dd>
</dl>
</div></blockquote>
<dl>
<dt>cell_params: nested parameter structure, created from modified parameters and a template</dt><dd><dl>
<dt>–&gt; apply cell_param_modify_functions (takes and returns a NTParameterSet object, can alter it in any way)</dt><dd><blockquote>
<div><div class="line-block">
<div class="line"><br /></div>
</div>
</div></blockquote>
<dl>
<dt>cell_generator(cell_params)</dt><dd><div class="line-block">
<div class="line"><br /></div>
</div>
<p>v</p>
</dd>
</dl>
</dd>
</dl>
</dd>
<dt>cell object: created from the modified cell_params object by calling the ‘cell_generator’</dt><dd><dl class="simple">
<dt>–&gt; apply cell_modify_functions (takes and returns a cell object, can alter it in any way)</dt><dd><p>Caveat: Try to avoid the usage of cell_modify_functions. While this allows
for any possible modification, it can be difficult to reproduce the result
later, as the cell object is different from what is expected by the cell_param
object. If possible, try to fully specify the cell in the cell_param object. Here,
it is also possible to spcify cell modifying functions, see
single_cell_parser.cell_modify_functions.</p>
</dd>
</dl>
</dd>
</dl>
<p>What form do the functions need to have?
def example_cell_param_template_generator():</p>
<blockquote>
<div><p>#return a I.scp.NTParameterSet object as template. Ideally, all parameters, that need to be
#filled in from the pasrameter vector have the value None, because it is tested, that
#all None values have been replaced. E.g.
return I.scp.NTParameterSet({‘filename’: path_to_hoc_morphology, ‘Soma’: somatic biophysical parameters})</p>
</div></blockquote>
<dl class="simple">
<dt>def cell_generator(cell_param):</dt><dd><p>return I.scp.create_cell(cell_params)</p>
</dd>
<dt>def example_cell_param_modify_function(cell_param, params)</dt><dd><p># do something to the cell param object depending on params
return cell_param</p>
</dd>
<dt>def example_cell_modify_function(cell, params)</dt><dd><p># do something to the cell object depending on params
return cell</p>
</dd>
</dl>
<p>Such functions can be registered to the Simlator object. Each function is registered with a name.</p>
<p>Each function, that receive the parameter vector (i.e. cell_param_modify_funs and cell_modify_funs)
only see a subset of the parameter vector that is provided by the user. This subset is determined
by the name of the function.</p>
<p>E.g. let’s assume, we have the parameters:
{‘apical_scaling.scale’: 2,</p>
<blockquote>
<div><p>‘ephys.soma.gKv’: 0.001,
‘ephys.soma.gNav’: 0.01
}</p>
</div></blockquote>
<p>Then, a function that is registered under the name ‘apical_scaling’ would get the following parameters:
{‘scale’: 2}</p>
<p>The function, that is registered under the name ‘ephys’ would get the following parameters:
{‘soma.gKv’: 0.001,</p>
<blockquote>
<div><p>‘soma.Nav’: 0.01}</p>
</div></blockquote>
<p>Usually, a simulation contains fixed parameters, e.g. the filename of the morphology. Such fixed
parameters can be defined</p>
<p>How can pipeline (1) be set up?
s = Simulator() # instantiate simulator object
s.setup # Simualtor_Setup object, that contains all elements defining the pipeline above
s.setup.cell_param_generator =  example_cell_param_template_generator
s.setup.cell_generator = cell_generator
s.setup.params_modify_funs.append(‘name_of_param_modify_fun’, example_cell_param_modify_function)
s.setup.cell_param_modify_funs.append(‘name_of_cell_param_modify_fun’, example_cell_param_modify_function)
s.setup.cell_modify_funs.append(‘name_of_cell_modify_fun’, example_cell_modify_function)</p>
<p>The pipeline for (2) is as follows:
Let s be the Simulator object</p>
<dl>
<dt>params: provided by the user: I.pd.Series object</dt><dd><blockquote>
<div><div class="line-block">
<div class="line"><br /></div>
<div class="line"><br /></div>
</div>
</div></blockquote>
<dl>
<dt>s.setup.get(params): triggers pipeline (1), results in a biophysically set up cell</dt><dd><div class="line-block">
<div class="line"><br /></div>
</div>
<p>v</p>
</dd>
</dl>
</dd>
<dt>For each stimulus:</dt><dd><p>–&gt; stim_setup_funs
–&gt; stim_run_funs
–&gt; stim_response_measure_funs</p>
</dd>
</dl>
<p>What form do the functions need to have?
def stim_setup_funs(cell, params):</p>
<blockquote>
<div><p># set up some stimulus
return cell</p>
</div></blockquote>
<dl class="simple">
<dt>def stim_run_fun(cell, params):</dt><dd><p># run the simulation
return cell</p>
</dd>
<dt>def stim_response_measure_funs(cell, params)</dt><dd><p># extract voltage traces from the cell
return result</p>
</dd>
</dl>
<p>How can pipeline (2) be set up?
The names for stim_setup_funs, stim_run_funs and stim_response_measure_funs need to start
with the name of the simulus followed by a dot. For each stimulus, each of the three
functions needs to be defined exatly once, e.g. you could do something like:</p>
<p>s.setup.stim_setup_funs.append(BAC.stim_setup, examplary_stim_setup_function)
s.setup.stim_run_funs.append(BAC.run_fun, examplary_stim_run_function)
s.setup.stim_response_measure_funs.append(BAC.measure_fun, examplary_stim_response_measure_function)</p>
<p>A typical usecase is to use the fixed parameters to specify to soma distance for a
voltage trace of the apical dendrite. E.g.
{‘BAC.measure_fun.recSite’: 835,
‘BAC.stim_setup.dist’: 835}</p>
<p>You would need to make sure, that your examplary_stim_run_fun reads the parameter ‘recSite’
and sets up the stimulus accordingly.</p>
<p>Often, it is easier to write functions, that do not accept a parameter vector, but instead
keyword arguments. E.g. it might be desirable to write the examplary_stim_setup_funs like this
def examplary_stim_setup_function(cell, recSite = None):</p>
<blockquote>
<div><p># set up current injection at soma distance recSite
return cell</p>
</div></blockquote>
<p>Instead of:
def examplary_stim_setup_function(cell, params)</p>
<blockquote>
<div><p>recSite = params[‘recSite’]
# set up current injection at soma distance recSite
return cell</p>
</div></blockquote>
<p>This can be done by using the params_wo_kwargs method in biophysics_fitting.parameters. You would register
the function as follows:
s.setup.stim_setup_funs.append(BAC.stim_setup, params_to_kwargs(examplary_stim_setup_function))</p>
<dl class="py method">
<dt id="biophysics_fitting.simulator.Simulator.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/simulator.html#Simulator.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.simulator.Simulator.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>
</dd></dl>

<dl class="py method">
<dt id="biophysics_fitting.simulator.Simulator.get_simulated_cell">
<code class="sig-name descname">get_simulated_cell</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">params</span></em>, <em class="sig-param"><span class="n">stim</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/simulator.html#Simulator.get_simulated_cell"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.simulator.Simulator.get_simulated_cell" title="Permalink to this definition">¶</a></dt>
<dd><p>returns cell and parameters used to set up cell.
The cell is simulated with the specified stimulus.</p>
<p>Details, how to set up the Simulator are in the docstring of
the Simulator class.</p>
</dd></dl>

<dl class="py method">
<dt id="biophysics_fitting.simulator.Simulator.run">
<code class="sig-name descname">run</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">params</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/simulator.html#Simulator.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.simulator.Simulator.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Simulates all stimuli for a given parameter vector.
Returns: Dictionary where stim_response_measure_funs names are keys,
return values of the stim_response_measure_funs (usually voltage traces) are values.</p>
<p>Details, how to set up the Simulator are in the docstring of
the Simulator class.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="biophysics_fitting.simulator.Simulator_Setup">
<em class="property">class </em><code class="sig-prename descclassname">biophysics_fitting.simulator.</code><code class="sig-name descname">Simulator_Setup</code><a class="reference internal" href="_modules/biophysics_fitting/simulator.html#Simulator_Setup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.simulator.Simulator_Setup" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt id="biophysics_fitting.simulator.Simulator_Setup.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/simulator.html#Simulator_Setup.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.simulator.Simulator_Setup.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>
</dd></dl>

<dl class="py method">
<dt id="biophysics_fitting.simulator.Simulator_Setup.check">
<code class="sig-name descname">check</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/simulator.html#Simulator_Setup.check"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.simulator.Simulator_Setup.check" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="biophysics_fitting.simulator.Simulator_Setup.get">
<code class="sig-name descname">get</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">params</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/simulator.html#Simulator_Setup.get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.simulator.Simulator_Setup.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a cell with set up biophysics and params. This is the main interface.</p>
<p>Details, how to set up the Simulator are in the docstring of
the Simulator class.</p>
</dd></dl>

<dl class="py method">
<dt id="biophysics_fitting.simulator.Simulator_Setup.get_cell_params">
<code class="sig-name descname">get_cell_params</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">params</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/simulator.html#Simulator_Setup.get_cell_params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.simulator.Simulator_Setup.get_cell_params" title="Permalink to this definition">¶</a></dt>
<dd><p>returns cell NTParameterSet structure used for the single_cell_parser.create_cell.
This is helpful for inspecting, what parameters have effectively been used for the simulation.</p>
<p>Details, how to set up the Simulator are in the docstring of
the Simulator class.</p>
</dd></dl>

<dl class="py method">
<dt id="biophysics_fitting.simulator.Simulator_Setup.get_cell_params_with_default_sim_prams">
<code class="sig-name descname">get_cell_params_with_default_sim_prams</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">params</span></em>, <em class="sig-param"><span class="n">recordingSites</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">tStart</span><span class="o">=</span><span class="default_value">0.0</span></em>, <em class="sig-param"><span class="n">tStop</span><span class="o">=</span><span class="default_value">295</span></em>, <em class="sig-param"><span class="n">dt</span><span class="o">=</span><span class="default_value">0.025</span></em>, <em class="sig-param"><span class="n">Vinit</span><span class="o">=</span><span class="default_value">- 75.0</span></em>, <em class="sig-param"><span class="n">T</span><span class="o">=</span><span class="default_value">34.0</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/simulator.html#Simulator_Setup.get_cell_params_with_default_sim_prams"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.simulator.Simulator_Setup.get_cell_params_with_default_sim_prams" title="Permalink to this definition">¶</a></dt>
<dd><p>returns complete neuron parameter object that can be used for further simulations
i.e. with the simrun module or with roberts scripts.</p>
<p>Details, how to set up the Simulator are in the docstring of
the Simulator class.</p>
</dd></dl>

<dl class="py method">
<dt id="biophysics_fitting.simulator.Simulator_Setup.get_params">
<code class="sig-name descname">get_params</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">params</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/simulator.html#Simulator_Setup.get_params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.simulator.Simulator_Setup.get_params" title="Permalink to this definition">¶</a></dt>
<dd><p>returns cell parameters that have been modified by the params_modify_funs.</p>
</dd></dl>

<dl class="py method">
<dt id="biophysics_fitting.simulator.Simulator_Setup.get_stim_response_measure_fun">
<code class="sig-name descname">get_stim_response_measure_fun</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">stim</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/simulator.html#Simulator_Setup.get_stim_response_measure_fun"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.simulator.Simulator_Setup.get_stim_response_measure_fun" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="biophysics_fitting.simulator.Simulator_Setup.get_stim_run_fun_by_stim">
<code class="sig-name descname">get_stim_run_fun_by_stim</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">stim</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/simulator.html#Simulator_Setup.get_stim_run_fun_by_stim"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.simulator.Simulator_Setup.get_stim_run_fun_by_stim" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="biophysics_fitting.simulator.Simulator_Setup.get_stim_setup_fun_by_stim">
<code class="sig-name descname">get_stim_setup_fun_by_stim</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">stim</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/simulator.html#Simulator_Setup.get_stim_setup_fun_by_stim"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.simulator.Simulator_Setup.get_stim_setup_fun_by_stim" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="biophysics_fitting.simulator.Simulator_Setup.get_stims">
<code class="sig-name descname">get_stims</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/simulator.html#Simulator_Setup.get_stims"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.simulator.Simulator_Setup.get_stims" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.simulator.run_fun">
<code class="sig-prename descclassname">biophysics_fitting.simulator.</code><code class="sig-name descname">run_fun</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cell</span></em>, <em class="sig-param"><span class="n">T</span><span class="o">=</span><span class="default_value">34.0</span></em>, <em class="sig-param"><span class="n">Vinit</span><span class="o">=</span><span class="default_value">- 75.0</span></em>, <em class="sig-param"><span class="n">dt</span><span class="o">=</span><span class="default_value">0.025</span></em>, <em class="sig-param"><span class="n">recordingSites</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">tStart</span><span class="o">=</span><span class="default_value">0.0</span></em>, <em class="sig-param"><span class="n">tStop</span><span class="o">=</span><span class="default_value">250.0</span></em>, <em class="sig-param"><span class="n">vardt</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">silent</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/simulator.html#run_fun"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.simulator.run_fun" title="Permalink to this definition">¶</a></dt>
<dd><p>Default function to run a simulation</p>
</dd></dl>

</div>
<div class="section" id="module-biophysics_fitting.utils">
<span id="biophysics-fitting-utils-module"></span><h2>biophysics_fitting.utils module<a class="headerlink" href="#module-biophysics_fitting.utils" title="Permalink to this headline">¶</a></h2>
<p>Created on Nov 01, 2018</p>
<p>&#64;author: abast</p>
<dl class="py class">
<dt id="biophysics_fitting.utils.Undemonize">
<em class="property">class </em><code class="sig-prename descclassname">biophysics_fitting.utils.</code><code class="sig-name descname">Undemonize</code><a class="reference internal" href="_modules/biophysics_fitting/utils.html#Undemonize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.utils.Undemonize" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A hack to resolve AssertionError: daemonic processes are not allowed to have children</p>
<p>This might spawn child processes that do not terminate</p>
<dl class="py method">
<dt id="biophysics_fitting.utils.Undemonize.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/utils.html#Undemonize.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.utils.Undemonize.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="biophysics_fitting.utils.VariableThatDoesNotGetPickled">
<em class="property">class </em><code class="sig-prename descclassname">biophysics_fitting.utils.</code><code class="sig-name descname">VariableThatDoesNotGetPickled</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">stored_item</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/utils.html#VariableThatDoesNotGetPickled"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.utils.VariableThatDoesNotGetPickled" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt id="biophysics_fitting.utils.VariableThatDoesNotGetPickled.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">stored_item</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/utils.html#VariableThatDoesNotGetPickled.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.utils.VariableThatDoesNotGetPickled.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.utils.connected_to_dend_beyond">
<code class="sig-prename descclassname">biophysics_fitting.utils.</code><code class="sig-name descname">connected_to_dend_beyond</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cell</span></em>, <em class="sig-param"><span class="n">sec</span></em>, <em class="sig-param"><span class="n">beyond_dist</span></em>, <em class="sig-param"><span class="o">*</span></em>, <em class="sig-param"><span class="n">struct_list</span><span class="o">=</span><span class="default_value">['Dendrite', 'ApicalDendrite']</span></em><span class="sig-paren">)</span><a class="headerlink" href="#biophysics_fitting.utils.connected_to_dend_beyond" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.utils.connected_to_structure_beyond">
<code class="sig-prename descclassname">biophysics_fitting.utils.</code><code class="sig-name descname">connected_to_structure_beyond</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cell</span></em>, <em class="sig-param"><span class="n">sec</span></em>, <em class="sig-param"><span class="n">beyond_dist</span></em>, <em class="sig-param"><span class="n">struct_list</span><span class="o">=</span><span class="default_value">['Dendrite', 'ApicalDendrite']</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/utils.html#connected_to_structure_beyond"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.utils.connected_to_structure_beyond" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.utils.execute_in_child_process">
<code class="sig-prename descclassname">biophysics_fitting.utils.</code><code class="sig-name descname">execute_in_child_process</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fun</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/utils.html#execute_in_child_process"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.utils.execute_in_child_process" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.utils.execute_in_child_process_kept_alive">
<code class="sig-prename descclassname">biophysics_fitting.utils.</code><code class="sig-name descname">execute_in_child_process_kept_alive</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fun</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/utils.html#execute_in_child_process_kept_alive"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.utils.execute_in_child_process_kept_alive" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.utils.get_inner_sec_dist_list">
<code class="sig-prename descclassname">biophysics_fitting.utils.</code><code class="sig-name descname">get_inner_sec_dist_list</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cell</span></em>, <em class="sig-param"><span class="n">beyond_dist</span><span class="o">=</span><span class="default_value">1000</span></em>, <em class="sig-param"><span class="n">beyond_struct</span><span class="o">=</span><span class="default_value">['ApicalDendrite']</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/utils.html#get_inner_sec_dist_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.utils.get_inner_sec_dist_list" title="Permalink to this definition">¶</a></dt>
<dd><p>returns sections, that are connected to compartments with labels in beyond_struct that have a minimum soma distance of
beyond_dist. This is useful to get sections of the apical trunk filtering out oblique dendrites.</p>
</dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.utils.get_inner_section_at_distance">
<code class="sig-prename descclassname">biophysics_fitting.utils.</code><code class="sig-name descname">get_inner_section_at_distance</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cell</span></em>, <em class="sig-param"><span class="n">dist</span></em>, <em class="sig-param"><span class="n">beyond_dist</span><span class="o">=</span><span class="default_value">1000</span></em>, <em class="sig-param"><span class="n">beyond_struct</span><span class="o">=</span><span class="default_value">['ApicalDendrite']</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/utils.html#get_inner_section_at_distance"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.utils.get_inner_section_at_distance" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the section and relative position of that section, such that the soma distance (along the dendrite) is dist.
Also, it is assured, that the section returned has children that have a soma distance beyond beyond_dist of the label in
beyond_struct</p>
</dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.utils.pool_helper">
<code class="sig-prename descclassname">biophysics_fitting.utils.</code><code class="sig-name descname">pool_helper</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">callable_partial</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/utils.html#pool_helper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.utils.pool_helper" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.utils.run_cloudpickled_remotely">
<code class="sig-prename descclassname">biophysics_fitting.utils.</code><code class="sig-name descname">run_cloudpickled_remotely</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">queue</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/utils.html#run_cloudpickled_remotely"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.utils.run_cloudpickled_remotely" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.utils.tVec">
<code class="sig-prename descclassname">biophysics_fitting.utils.</code><code class="sig-name descname">tVec</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cell</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/utils.html#tVec"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.utils.tVec" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.utils.vmApical">
<code class="sig-prename descclassname">biophysics_fitting.utils.</code><code class="sig-name descname">vmApical</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cell</span></em>, <em class="sig-param"><span class="n">dist</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/utils.html#vmApical"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.utils.vmApical" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.utils.vmApical_position">
<code class="sig-prename descclassname">biophysics_fitting.utils.</code><code class="sig-name descname">vmApical_position</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cell</span></em>, <em class="sig-param"><span class="n">dist</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/utils.html#vmApical_position"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.utils.vmApical_position" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.utils.vmMax">
<code class="sig-prename descclassname">biophysics_fitting.utils.</code><code class="sig-name descname">vmMax</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cell</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/utils.html#vmMax"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.utils.vmMax" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.utils.vmSoma">
<code class="sig-prename descclassname">biophysics_fitting.utils.</code><code class="sig-name descname">vmSoma</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cell</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting/utils.html#vmSoma"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.utils.vmSoma" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-biophysics_fitting">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-biophysics_fitting" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="biophysics_fitting.connected_to_dend_beyond">
<code class="sig-prename descclassname">biophysics_fitting.</code><code class="sig-name descname">connected_to_dend_beyond</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cell</span></em>, <em class="sig-param"><span class="n">sec</span></em>, <em class="sig-param"><span class="n">beyond_dist</span></em>, <em class="sig-param"><span class="n">n_children_required</span><span class="o">=</span><span class="default_value">2</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting.html#connected_to_dend_beyond"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.connected_to_dend_beyond" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a :&#64;class single_cell_parser.cell.Cell: object and section number,
this method returns true if at least two children of the branchpoint reach beyond dist</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cell</strong> (<a class="reference internal" href="single_cell_parser.html#single_cell_parser.cell.Cell" title="single_cell_parser.cell.Cell"><em>Cell</em></a>) – The Cell object</p></li>
<li><p><strong>sec</strong> (<em>int</em>) – Index of Cell section</p></li>
<li><p><strong>beyond_dist</strong> (<em>float</em>) – Distance threshold</p></li>
<li><p><strong>n_children_required</strong> (<em>int</em><em>, </em><em>optional</em>) – Least amount of children required. Defaults to 2.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Whether or not two of the section’s children reach beyond :&#64;param beyond_dist:</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.get_branching_depth">
<code class="sig-prename descclassname">biophysics_fitting.</code><code class="sig-name descname">get_branching_depth</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cell</span></em>, <em class="sig-param"><span class="n">sec</span></em>, <em class="sig-param"><span class="n">beyond_dist</span><span class="o">=</span><span class="default_value">1000</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting.html#get_branching_depth"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.get_branching_depth" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a Cell object and a section number, this method returns the amount of sections that have children
beyond some distance :&#64;param beyond_dist: inbetween the soma and the given section.</p>
<p>If this number is 0, that means that the given section, and all its parent sections up to the soma,
have no children that exceed a distance to soma of :&#64;param beyond_dist:.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cell</strong> (<a class="reference internal" href="single_cell_parser.html#single_cell_parser.cell.Cell" title="single_cell_parser.cell.Cell"><em>Cell</em></a>) – The Cell object</p></li>
<li><p><strong>sec</strong> (<em>int</em>) – The section number</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Amount of sections between :&#64;param sec: and soma that have at least 2 children that are further from the soma than :&#64;param beyond_dist:</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.get_branching_depth_series">
<code class="sig-prename descclassname">biophysics_fitting.</code><code class="sig-name descname">get_branching_depth_series</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cell</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting.html#get_branching_depth_series"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.get_branching_depth_series" title="Permalink to this definition">¶</a></dt>
<dd><p>Careful: z-depth only accurate for D2-registered cells!</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>cell</strong> (<a class="reference internal" href="single_cell_parser.html#single_cell_parser.cell.Cell" title="single_cell_parser.cell.Cell"><em>Cell</em></a>) – The Cell object</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>contains the pia distance as index and a tuple (biforcation order, section) as value</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pd.Series</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.get_inner_sec_dist_list">
<code class="sig-prename descclassname">biophysics_fitting.</code><code class="sig-name descname">get_inner_sec_dist_list</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cell</span></em>, <em class="sig-param"><span class="n">select</span><span class="o">=</span><span class="default_value">['ApicalDendrite', 'Dendrite']</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting.html#get_inner_sec_dist_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.get_inner_sec_dist_list" title="Permalink to this definition">¶</a></dt>
<dd><p>TODO: wat does this method do? Why take the y-value of the last point in a section and subtract 706?</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cell</strong> (<a class="reference internal" href="single_cell_parser.html#single_cell_parser.cell.Cell" title="single_cell_parser.cell.Cell"><em>Cell</em></a>) – The Cell object</p></li>
<li><p><strong>select</strong> (<em>list</em><em>, </em><em>optional</em>) – Selection of sections to consider, based on their label. Defaults to [‘ApicalDendrite’, ‘Dendrite’].</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>_description_</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="biophysics_fitting.get_main_bifurcation_section">
<code class="sig-prename descclassname">biophysics_fitting.</code><code class="sig-name descname">get_main_bifurcation_section</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cell</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/biophysics_fitting.html#get_main_bifurcation_section"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#biophysics_fitting.get_main_bifurcation_section" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">In-Silico Framework (ISF)</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">in_silico_framework</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="Interface.html">Interface module</a></li>
<li class="toctree-l2"><a class="reference internal" href="SLURM_scripts.html">SLURM_scripts package</a></li>
<li class="toctree-l2"><a class="reference internal" href="barrel_cortex.html">barrel_cortex package</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">biophysics_fitting package</a></li>
<li class="toctree-l2"><a class="reference internal" href="compatibility.html">compatibility module</a></li>
<li class="toctree-l2"><a class="reference internal" href="getting_started.html">getting_started package</a></li>
<li class="toctree-l2"><a class="reference internal" href="mechanisms.html">mechanisms package</a></li>
<li class="toctree-l2"><a class="reference internal" href="model_data_base.html">model_data_base package</a></li>
<li class="toctree-l2"><a class="reference internal" href="nbrun.html">nbrun module</a></li>
<li class="toctree-l2"><a class="reference internal" href="project_specific_ipynb_code.html">project_specific_ipynb_code package</a></li>
<li class="toctree-l2"><a class="reference internal" href="simrun2.html">simrun2 package</a></li>
<li class="toctree-l2"><a class="reference internal" href="simrun3.html">simrun3 package</a></li>
<li class="toctree-l2"><a class="reference internal" href="single_cell_analyzer.html">single_cell_analyzer package</a></li>
<li class="toctree-l2"><a class="reference internal" href="single_cell_parser.html">single_cell_parser package</a></li>
<li class="toctree-l2"><a class="reference internal" href="singlecell_input_mapper.html">singlecell_input_mapper package</a></li>
<li class="toctree-l2"><a class="reference internal" href="spike_analysis.html">spike_analysis package</a></li>
<li class="toctree-l2"><a class="reference internal" href="tests.html">tests package</a></li>
<li class="toctree-l2"><a class="reference internal" href="visualize.html">visualize package</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="generated/biophysics_fitting.html">biophysics_fitting</a></li>
<li class="toctree-l1"><a class="reference internal" href="generated/dendrite_thickness.html">dendrite_thickness</a></li>
<li class="toctree-l1"><a class="reference internal" href="generated/getting_started.html">getting_started</a></li>
<li class="toctree-l1"><a class="reference internal" href="generated/installer.html">installer</a></li>
<li class="toctree-l1"><a class="reference internal" href="generated/mechanisms.html">mechanisms</a></li>
<li class="toctree-l1"><a class="reference internal" href="generated/project_specific_ipynb_code.html">project_specific_ipynb_code</a></li>
<li class="toctree-l1"><a class="reference internal" href="generated/simrun2.html">simrun2</a></li>
<li class="toctree-l1"><a class="reference internal" href="generated/simrun3.html">simrun3</a></li>
<li class="toctree-l1"><a class="reference internal" href="generated/single_cell_analyzer.html">single_cell_analyzer</a></li>
<li class="toctree-l1"><a class="reference internal" href="generated/single_cell_parser.html">single_cell_parser</a></li>
<li class="toctree-l1"><a class="reference internal" href="generated/singlecell_input_mapper.html">singlecell_input_mapper</a></li>
<li class="toctree-l1"><a class="reference internal" href="generated/SLURM_scripts.html">SLURM_scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="generated/spike_analysis.html">spike_analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="generated/visualize.html">visualize</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  <li><a href="modules.html">in_silico_framework</a><ul>
      <li>Previous: <a href="barrel_cortex.html" title="previous chapter">barrel_cortex package</a></li>
      <li>Next: <a href="compatibility.html" title="next chapter">compatibility module</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2023, Arco Bast, Amir Najafgholi, Maria Royo Cano, Rieke Fruengel, Matt Keaton, Bjorge Meulemeester, Omar Valerio.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.2.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/biophysics_fitting.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>